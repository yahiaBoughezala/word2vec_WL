package com.caishi.bigdata.news.word2vec.trainer;

import com.caishi.bigdata.common.word2vec.Word2VecUtils;
import org.apache.spark.mllib.feature.Word2VecModel;
import org.junit.Before;
import org.junit.Test;
import scala.Tuple2;

/**
 * å¯¹com.caishi.bigdata.news.word2vec.trainer.NewsWord2VecTrainning è®­ç»ƒæ¨¡å‹çš„ä½¿ç”¨è¯´æ˜
 * 1.æ¨¡å‹é¢„æµ‹è¿‡ç¨‹
 * 1.1 spark-shell å‘½ä»¤æ‰§è¡Œ,ç„¶åè¿›è¡Œé¢„æµ‹
 * spark-shell --master spark://10.4.1.4:7077 --executor-memory 4096m --driver-memory 4096m --executor-cores 1 --conf spark.serializer=org.apache.spark.serializer.KryoSerializer --conf spark.akka.frameSize=1024  --conf spark.kryoserializer.buffer.max=1024
 * <p>
 * scala> word2vecModel.findSynonyms("é©¬äº‘", 10)
 * res0: Array[(String, Double)] = Array((é˜¿é‡Œå·´å·´,728873.4226757289), (é©¬åŒ–è…¾,694204.3332021954), (é˜¿é‡Œ,625143.7909097292), (ç‹å¥æ—,573490.7893402464), (å¤§ä½¬,560984.1972743534), (åˆ˜å¼ºä¸œ,557761.766262701), (èš‚èš,553260.4625862375), (äº’è”ç½‘ç”µå•†,543804.421894635), (é¦–å¯Œ,533350.5565971779), (äº’è”ç½‘é‡‘è,531674.903952446))
 * <p>
 * scala> word2vecModel.findSynonyms("ä¹ è¿‘å¹³", 10)
 * res1: Array[(String, Double)] = Array((æ€»ä¹¦è®°,1258720.5354656614), (é‡è¦è®²è¯,1098006.0058208788), (è´¯å½»,1080162.2470029), (åŒå¿—,1018663.599337964), (å…šä¸­å¤®,1000798.678402671), (åå…«å±Š,969787.8144741518), (ä¿æ­£å£°,945262.791588238), (é¢†å¯¼äºº,936930.0179137179), (èƒ¡é”¦æ¶›,931676.3839544035), (ä¼šè§,930401.4662349261))
 * <p>
 * scala> word2vecModel.findSynonyms("æŠ•èµ„", 10)
 * res2: Array[(String, Double)] = Array((èµ„æœ¬,791356.5030891554), (æŠ•èµ„è€…,773778.486430909), (èµ„äº§,743971.5181558601), (åŸºé‡‘,737923.7578778417), (æŠ•èµ„äºº,729224.5600335201), (ç§å‹Ÿ,720477.3620165566), (èµ„é‡‘,720093.0260627058), (ç†è´¢,703080.1458541512), (èèµ„,701049.4169395124), (é‡‘è,696246.1809648738))
 * <p>
 * scala> word2vecModel.findSynonyms("é»„é£é¸¿", 10)
 * res4: Array[(String, Double)] = Array((è­¦å¯Ÿæ•…äº‹,2746432.0988298818), (æ­¦ä¾ ç‰‡,2734469.1022346993), (æ–¹ä¸–ç‰,2730899.2624470615), (åŠŸå¤«ç‰‡,2702469.5384743907), (æ­¦æœ¯æŒ‡å¯¼,2690362.6627661265), (æ­¦æ‰“,2680496.695340626), (é¾™é—¨å®¢æ ˆ,2666306.568155436), (å´å®‡æ£®,2609858.341092637), (æ­¦æ‰“ç‰‡,2584257.845021547), (èµŒåœ£,2569117.955642752))
 * 1.2 windowä¸‹è¿è¡Œè¿›è¡Œé¢„æµ‹ï¼Œéœ€è¦è®¾ç½®heapå†…å­˜
 * -Xms4096m -Xmx4096m
 * Created by fuli.shen on 2017/6/30.
 */
public class NewsWord2VecTrainningTest {

    // word2vec æ¨¡å‹å­˜å‚¨è·¯å¾„
    public static final String w2vModelPath = "hdfs://10.4.1.1:9000/news/W2V/News_W2V_Model/";

    // w2v æ¨¡å‹å®ä¾‹å¯¹è±¡
    Word2VecModel w2vModel = null;

    @Before
    public void init() {
        long s1 = System.currentTimeMillis();
        w2vModel = Word2VecUtils.loadW2VModel(w2vModelPath);
        System.out.println("Load News word2Vec Model successfully,the time is" + (System.currentTimeMillis()-s1)/1000 + "s");
    }

    @Test
    public void testfindSynonyms() {
        System.out.println("-------------------------------1.1.ã€æŠ•èµ„ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------");
        Tuple2<String, Object>[] w2vModelSynonyms = w2vModel.findSynonyms("æŠ•èµ„", 10);
        for (Tuple2<String, Object> tuple2 : w2vModelSynonyms) {
            String word = tuple2._1();
            Double cosineSimilarity = (Double) tuple2._2();
            System.out.println(word + "\t" + cosineSimilarity);
        }
        System.out.println("-------------------------------1.2.ã€é»„é£é¸¿ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------");
        Tuple2<String, Object>[] w2vModelSynonyms_2 = w2vModel.findSynonyms("é»„é£é¸¿", 10);
        for (Tuple2<String, Object> tuple2 : w2vModelSynonyms_2) {
            String word = tuple2._1();
            Double cosineSimilarity = (Double) tuple2._2();
            System.out.println(word + "\t" + cosineSimilarity);
        }
        System.out.println("-------------------------------1.3.ã€ä¹ è¿‘å¹³ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------");
        Tuple2<String, Object>[] w2vModelSynonyms_3 = w2vModel.findSynonyms("ä¹ è¿‘å¹³", 10);
        for (Tuple2<String, Object> tuple2 : w2vModelSynonyms_3) {
            String word = tuple2._1();
            Double cosineSimilarity = (Double) tuple2._2();
            System.out.println(word + "\t" + cosineSimilarity);
        }
        System.out.println("-------------------------------1.4.ã€é©¬äº‘ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------");
        Tuple2<String, Object>[] w2vModelSynonyms_4 = w2vModel.findSynonyms("é©¬äº‘", 10);
        for (Tuple2<String, Object> tuple2 : w2vModelSynonyms_4) {
            String word = tuple2._1();
            Double cosineSimilarity = (Double) tuple2._2();
            System.out.println(word + "\t" + cosineSimilarity);
        }
        System.out.println("-------------------------------1.5.ã€ç”Ÿæ´»ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------");
        Tuple2<String, Object>[] w2vModelSynonyms_5 = w2vModel.findSynonyms("ç”Ÿæ´»", 10);
        for (Tuple2<String, Object> tuple2 : w2vModelSynonyms_5) {
            String word = tuple2._1();
            Double cosineSimilarity = (Double) tuple2._2();
            System.out.println(word + "\t" + cosineSimilarity);
        }
        System.out.println("-------------------------------1.6.ã€å®¶å±…ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------");
        Tuple2<String, Object>[] w2vModelSynonyms_6 = w2vModel.findSynonyms("å®¶å±…", 10);
        for (Tuple2<String, Object> tuple2 : w2vModelSynonyms_6) {
            String word = tuple2._1();
            Double cosineSimilarity = (Double) tuple2._2();
            System.out.println(word + "\t" + cosineSimilarity);
        }
    }
    @Test
    public void testComputeTextConsineScoreByWord2Vec() {
        System.out.println("-------------------------------å¥å­çš„å‘é‡è¡¨ç¤º-----------------------------------");
        String[] words_1 = "ä½“è‚² åŒ—äº¬ ç”·ç¯® çƒ­èº«èµ› ç£¨åˆ æˆ˜æœ¯ å¹´è½» æ–°ç§€ å´­éœ²å¤´è§’ çƒ­èº«èµ› ä¸­ åŒ—äº¬é˜Ÿ å°å°† å¼ æ‰ä» é”»ç‚¼ åŒ—äº¬é¦–é’¢é˜Ÿ å¤©æ´¥ æµ·å³¡ æ¯ æ¯”èµ› ä¸­ å¤§èƒœ å° å•¤ é˜Ÿ èƒœ è´Ÿ æˆ˜ç»© ç»“æŸ çƒ­èº«èµ› æ—… æ˜¨æ™š æ¯”èµ› ä¸­ åå« æ–¹ç¡• æ‰‹æ„Ÿ ç«çƒ­ å…¨é˜Ÿ ä¸­é”‹ å¼ æ¾æ¶› é©¬å¸ƒé‡Œ é¢å¯¹ é˜²å®ˆ é©¬å¸ƒé‡Œ æŒçƒ æ¬² çªç ´ å­™æ‚¦ ä¸Šç¯® å­™æ‚¦ çªç ´ é©¬å¸ƒé‡Œ çªç ´ é˜²å®ˆ æ–¹ç¡• çªç ´ é˜²å®ˆ é©¬å¸ƒé‡Œ æ’‡å˜´ è«é‡Œæ–¯ é­é‡ ä¸¥é˜² è«é‡Œæ–¯ å‡ºé˜µ å¼ æ‰ä» æ–¹ç¡• ä¸Šç¯® æœ±å½¦è¥¿ çªç ´ å‰å–† æ‰“æš—å· å¼ æ¾æ¶› å¼ºæ”» é¦–é’¢é˜Ÿ çƒ­èº«èµ› ä¸­ é˜Ÿä¼ ç£¨åˆ æ–° æˆ˜æœ¯ ææ ¹ é˜Ÿ ä¸­ çƒå‘˜ é¡¶æ›¿ é˜Ÿå‘˜ é»˜å¥‘ é…åˆ æ¯”èµ› å»ºç«‹ é¦–é’¢é˜Ÿ çƒ­èº«èµ› ä¸­ é”»ç‚¼ å°å°† å¼ æ‰ä» é’å¹´é˜Ÿ ä¸Šè°ƒ é˜Ÿå‘˜ çƒ­èº«èµ› ä¸­ æ‰“çƒ å°šå¯ å¤–æ´ è«é‡Œæ–¯ è¯´ æ‰“çƒ æ•´ä½“ æ‰“æ³• é¦–é’¢é˜Ÿ é˜Ÿé•¿ å­™æ‚¦ çƒ­èº«èµ› æ–° èµ›å­£ å­™æ‚¦ æ¢å¤ å¯»æ‰¾ æ¯”èµ› å­™æ‚¦ è¯´ åœºä¸Š ç¨å¾® èº«ä½“ æ¯”èµ› æ¯”èµ› ä¸­ é¦–é’¢é˜Ÿ ä¸æ•Œ å¤©æ´¥ æˆ˜å…¨èƒœ é”å®š å† å†›".split(" ");
        int vectorSize = 200;// è¯
        double[] wordsVector_1 = Word2VecUtils.buildWordsVector(words_1, vectorSize, w2vModel);
        System.out.println(Word2VecUtils.getStringWithWord2Vec(wordsVector_1));//0.026998909888789058,-0.01186487590894103,0.024897634619264863,0.05851895920932293,-0.012189864530228078
        String[] words_2 = "ä½“è‚² é¢†é˜Ÿ è°ƒä¾ƒ æŠ€å¸ˆ è°ƒè½¦ æ—¶ ç»´æ³°å°” å®‰é™ å«å–Š é˜¿é‡Œ å·´è´å†… è¯´ è±ç§‘å® æ–°æµª ä½“è‚²è®¯ è±ç§‘å® æ–°åŠ å¡ ç«™ å­£å†› æœ¬èµ›å­£ ç™»ä¸Š é¢†å¥–å° é˜Ÿå‹ ç»´æ³°å°” æ‹¿å‡º æ–°åŠ å¡ ç»Ÿæ²» çº§ èƒœåˆ© æ’ä½ èµ›å è±ç§‘å® èµ›è½¦ ä¸å¤ªå¥½ åº¦è¿‡ å›°éš¾ æ­£ èµ›ä¸­è± ç§‘å® å·¥ç¨‹å¸ˆ æŠ¥å‘Š èµ›è½¦ é©¾é©¶ æ³•æ‹‰åˆ© é¢†é˜Ÿ é˜¿å¾·é‡Œå·´ è´ æ¾„æ¸… è±ç§‘å® è½¦é˜Ÿ è°ƒä¾ƒ ç§° å†°äºº çˆ± æŠ±æ€¨ é˜¿é‡Œ å·´è´å†… è¯´ æŠ±æ€¨ æŠ€å¸ˆ è°ƒæ ¡ èµ›è½¦ å¡å·´ å®‰é™ å«å–Š è°ˆåˆ° è½¦æ‰‹ é˜¿é‡Œ å·´è´å†… è¯´ è’™æ‰ å¼º å¡å·´ å¼º å¡å·´ èµ›é“ å¼ºå¤§ è½¦æ‰‹ é¢†å¥–å°".split(" ");
        double[] wordsVector_2 = Word2VecUtils.buildWordsVector(words_2, vectorSize, w2vModel);
        System.out.println(Word2VecUtils.getStringWithWord2Vec(wordsVector_2));//0.004943567619193345,0.010045223403722048,0.03035004214325454,0.02609390113502741,0.017606549547053874

        System.out.println("-------------------------------1.1.(cosineScore1_2)è·ç¦»çš„ä½™å¼¦è·ç¦»æ¯”è¾ƒ-----------------------------------");
        double cosineScore1_2 = Word2VecUtils.computeCosineScore(wordsVector_1, wordsVector_2);
        System.out.println(cosineScore1_2);
        System.out.println("-------------------------------1.2.(cosineScore3_4)è·ç¦»çš„ä½™å¼¦è·ç¦»æ¯”è¾ƒ-----------------------------------");
        String sentence3 = "èœè°± æå®š è¡¥é’™ è¾… é£Ÿ å¦ˆå¦ˆ é—® èŠ¹èœ å®å® åƒ åŒ… é¥ºå­ ç‚’ è±† å¹² ä¹°åˆ° è±† å¹² ä¸´æ—¶ è±†è… è¡¥é’™ å®å® è¾… é£Ÿ å€¼å¾—æ³¨æ„ èŠ¹èœ ç„¯ æ°´ å»æ‰ è‰é…¸ è±†è… é£Ÿ å½±å“ é’™ å¸æ”¶ è¡¥é’™ ç¿» è‹¦å¿ƒ ç™½è´¹ é“ è¾… é£Ÿ åˆ¶ä½œæ–¹æ³• å¤ª è”¬èœ æˆä¸çŠ¶ ç‚’é”… ç‚’ é”… æˆåŠŸç‡ é«˜ å¿«æ‰‹ è¾… é£Ÿ å¿…å¤‡ è èœ è‹‹èœ ç«¹ç¬‹ è‹¦ç“œ èŒ­ç™½ è‰é…¸ å«é‡ é«˜ è”¬èœ åˆ¶ä½œ ç„¯ é£Ÿ æ èƒ¡èåœ èŠ¹èœ è±†è… ç±³é¥­ è°ƒæ–™ ç› é¼“åŠ± å‘¨å² å®å® åƒ ç› è¾… é£Ÿ é…Œæƒ… åŠ ç› çƒ¹åˆ¶ ç‚’ æœˆé¾„ æœˆ éš¾æ˜“ ç¨‹åº¦ æ–‡ä¸­ é£Ÿ æ è¿‡æ• å®å® èŠ¹èœ ç„¯ åˆ‡æˆ å°æ®µ èŠ¹èœ ä¸­ è‰é…¸ å½±å“ é’™ å¸æ”¶ ç„¯ å»æ‰ è‰é…¸ å®å® æŒ‘é€‰ èŠ¹èœ å¶ èœèŒ å«© èƒ¡èåœ åˆ‡æˆ å°ç¢ä¸ è±†è… åˆ‡æˆ å—å„¿ é£Ÿ æ èŠ¹èœ èƒ¡èåœ è±†è… ç„– ç±³é¥­ é”… ä¸­ æ”¾å…¥ åº• æ²¹ å…ˆä¸‹ å…¥ èƒ¡èåœ èŠ¹èœ ç¿»ç‚’ åŠ æ°´ æ²¡è¿‡ è”¬èœ ç¨å¾® ç‚– æ±¤æ±æ”¶ å¹² èƒ¡èåœ èŠ¹èœ ç‚’ç†Ÿ åŠ æ°´ ç‚– ä¼šå„¿ è±†è… ç±³é¥­ è±†è… ç‚’ç†Ÿ é”… åŠ ç› å® å¦ˆ å®å® å£å‘³ è‡ªè¡Œ è°ƒæ•´ æœˆ å®å® è¾… é£Ÿ é¼“åŠ± å®å® è¾… é£Ÿ åŠ ç› å…»æˆ æ¸…æ·¡ å£å‘³ å®å® è±†è… å°‘ æ”¾ ç‚’ é“² ç¢ ç±³é¥­ ç›› å®å® åƒ ";
        String sentence4 = "ç¾é£Ÿæ¨è é£Ÿ è‰² é¥®å“ æ¨±æ¡ƒ èœœ é¥® æ¨±æ¡ƒ å­£ åƒ æ¨±æ¡ƒ æ¨±æ¡ƒ é…¸ å€’ ç‰™ æ¢ æ³•å­ åƒ å– æ¨±æ¡ƒ æ‰“æˆ æµ“æµ† åŠ ç‚¹ èœ‚èœœ æ”¹å–„ é…¸å‘³ åš¼ å’½ è¿› è‚šå­ é‡Œ æ¨±æ¡ƒ æ…æ‰“ ä¸­ä¼š æ°§åŒ– é»¯ç„¶å¤±è‰² ç¡®å® å¤±è‰² åŸ ç²’ é²œè‰³ ä¸ä¼¼ è¤ å˜ æ¯é»„ é»¯æ·¡ å‘³é“ ç”¨æ–™ æ¨±æ¡ƒ å‡‰å¼€æ°´ èœ‚èœœ é€‚é‡ æ¨±æ¡ƒ æ´—å‡€ è’‚ æ ¸ æ–™ç† æœº æ¯ä¸­ åŠ æ°´ ç›– ç›–å­ æ”¾å…¥ æœºåº§ è”¬æœ é”® æ‰“æµ† ç»“æŸ å–ä¸‹ æ–™ç† æ¯ æ¯ä¸­ èœ‚èœœ è¡¨é¢ æ¨±æ¡ƒ ç‚¹ç¼€ é…¸é…¸ç”œç”œ ";
        double cosineScore3_4 = Word2VecUtils.computeCosineScore( Word2VecUtils.buildWordsVector(sentence3.split(" "), vectorSize, w2vModel), Word2VecUtils.buildWordsVector(sentence4.split(" "), vectorSize, w2vModel));
        System.out.println(cosineScore3_4);
        System.out.println("-------------------------------1.3.(cosineScoreNewsIds)è·ç¦»çš„ä½™å¼¦è·ç¦»æ¯”è¾ƒ-----------------------------------");
        String sentence_8ffbe33ee74dfc15 = "ç²¾æ˜ æƒ³ å¡ ç½—æ‹‰åŒ æ“ å– ç§˜å¯† å¿ƒ è¯• é©¾ åå‡ ä¸‡å‡ºå¤´ å®¶ç”¨è½¦ å†™ ä»·ä½ å¦¥å å¿è€ ç•…é”€è½¦ å†™ å“ç‰Œ ç‹¬ç‰¹ ç§˜å¯† å‘è§‰ æ˜Ÿçƒ é”€é‡ è½¦å‹ ä¸°ç”° å¡ç½—æ‹‰ åŠ¨åŠ› ç‰ˆæœ¬ æ—¶ è·ƒè·ƒæ¬²è¯• è¯šæƒ¶è¯šæ ç”Ÿæ€• å†™ç‚¹ æŒ‡è´£ æ‡‚ å­— æ¦‚æ‹¬ å®Œ è½¦ ç²¾æ˜ æ³¨ è¯• é©¾ è½¦è¾† å¡ç½—æ‹‰ åŒ æ“ æ——èˆ°ç‰ˆ å…¨æ–° è¡Œé©¶ å…¬é‡Œ é‡åº¦ è½¦è¾† å¤–è§‚ è¿˜å¥½ å¼ å¤§å˜´ ä¸°ç”° å¹´ æ¨å‡º åŠ¨åŠ› è½¦å‹ å¡ç½—æ‹‰ åŒæ“ å¤–è§‚è®¾è®¡ ç›¸è¾ƒ ä¸°ç”° è½¦å‹ æ¸©å’Œ æ­£ç»Ÿ ä¸–çºª å¹´ä»£ å…¬çˆµ ç‹ å…¥ ä¸»å®˜ è½¦ è¡Œåˆ— ä¸°ç”° ä¸œæ–¹ å®¡ç¾ è®¾è®¡ é«˜ ç¾èª‰åº¦ é¡¶å¤© è€ƒ æ–¯ç‰¹ çš‡å†  è¸ ä½³ç¾ æµ·ç‹® äº²åˆ‡ å¤§æ–¹ å…¸èŒƒ ä¸°ç”° å¤–è§‚ è¿›åŒ– è¿‡æ¿€ è¿› ä¸­ èµ° å®Œ ä¸–çºª æ——èˆ° é›·å…‹è¨æ–¯ èº«å…ˆå£«å’ å’§å¼€ å˜´è§’ å¤¸å¼  å˜´ ä»¤äººåƒæƒŠ ç›¸è¾ƒ å¡ç½—æ‹‰ åŒæ“ è®¾è®¡ é£æ ¼ æ–°æ½® è€æ°” ç¨³é‡ é’å¹´äºº æ€ªå¼‚ ä»£å¡ç½— æ‹‰ åŒ æ“ é‡å¿ƒ é«˜ è½¦çª— é¢ç§¯ æµ…è‰² è½¦èº« è§†è§‰ åŠ é‡ æ„Ÿå®˜ è¯„åˆ¤ è§ä»è§æ™º å› äººè€Œå¼‚ æ•´è½¦ é¡ºåº”æ—¶ä»£ æ—¥é—´ è¡Œ è½¦ç¯ å¤–è§‚ è£…é¥° è¾¨è¯† åº¦ é«˜ ä½è°ƒ å«è“„ å¾½æ ‡ è¯æ˜ æ·· åŠ¨ è½¦å‹ å†…é¥° é¢œ å€¼ æ©ç›– ä¸ä½ å“è´¨ æ„Ÿ æƒ³ è´­è½¦ é¢„ç®— åä¸‡å‡ºå¤´ æ¶ˆè´¹è€… è‡ªä¸» å“ç‰Œ è½¦ çœ¼èŠ±ç¼­ä¹± å®£ä¼  è¿›åˆ° å¡ç½—æ‹‰ åŒ æ“ æ—¶å…‰å€’æµ æ„Ÿ è‡ªä¸» å“ç‰Œ ç”¨ä¸Š å…¨ æ¶²æ™¶ å¤§å±å¹• å°è½¦ ä¸­è£… æ°›å›´ ç¯ å¡ç½—æ‹‰ åŒæ“ å†…é¥° å…‹åˆ¶ å° æ——èˆ° å‹å· æ„Ÿå— å°è½¦ æ•°åå¹´ æ¼”è¿› ä¸­ ç§¯ç´¯ äººæ€§ è´¢å¯Œ æŒ‰é’® åˆ†åŒº è§¦æ‰‹å¯åŠ ç›² æ“ä½œ å“è´¨ æ„Ÿ ä¸æ‰¬ å¤–è¡¨ æ©ç›– å¹³å‡¡ æè´¨ æ‹–ç´¯ æ—‹é’® æ‰‹æ„Ÿ æŒ‰å‹ åé¦ˆ ç»†èŠ‚ è€äºº å½“å¹´ æ—¥æœ¬ åˆ¶é€  è¿·æ‹ æ„æ–™ä¹‹å¤– å¡ç½—æ‹‰ åŒæ“ è‡ªåŠ¨ å¤§ç¯ å¼€è¿‡ è½¦ æœ€å¿« åŒ—äº¬ é’» æ¡¥æ´ å¼€å’Œ å…³ åŠ¨ä½œ è½¦è½½ å¯¼èˆª è§„åˆ’ èƒ½åŠ› ç© ç”µå­è®¾å¤‡ æƒŠè®¶ å¯¼èˆª æ“ä½œ ç›¸æ¯” æ™ºèƒ½æ‰‹æœº ä¸­ å¯¼èˆª ç¨ æ˜¾ è½å èœå• ä¸­ è½¦ æ„£ æ²¡èƒ½ ç ”ç©¶ æ‰‹æœº ä¸­ å¯¼èˆª å æ§½ ä¸ºç”Ÿ èƒ¡ç¼– å¼€è½¦ ç‚¹ èµ å¡ ç½—æ‹‰åŒ æ“ å¼€å…³ è¯­è¨€ åŠŸèƒ½ çª—æˆ· é™¤éœœ ç‚¹é”™ ä¸°ç”° é€  è½¦ ç§˜è¯€ åº”æœ‰ é…ç½® æ¡£æ¬¡ é€‚å®œ ç©ºé—´ è¶…ä¹ å“è´¨ æ—¶å°š è½å åŒ æ“ èŠ‚èƒ½ è½¦ å†å² çºªå…ƒ è·¯ æµ‹ è±ª è½¦ å¦‚äº‘ è½¦åº“ é‡Œ æ€è€ƒ åŠå¤© ç¿» ç‰¹æ–¯æ‹‰ ç‰Œå­ è½¦ å¼€åˆ› æ±½è½¦ èŠ‚èƒ½ ç¯ä¿ æ–°çºªå…ƒ è½¦ ä¸‡ ä¸‹æ¬¡ è¶… è·‘ æ²¡æ³• å†™ ä¸°ç”° å¥— æ·· åŠ¨ç³»ç»Ÿ æŠ€æœ¯ å›æº¯ å¹´ å¹´ ä¸°ç”° é‡äº§ è½¦ ç‡ƒæ°”è½®æœº ç”µåŠ¨æœº æ¦‚å¿µè½¦ æ€§è´¨ æ¢ç´¢ æ·· åŠ¨ç³»ç»Ÿ é›å½¢ å¹´ ä¸°ç”° æ·· åŠ¨ç³»ç»Ÿ ä¼´éš æ™®é”æ–¯ ä¸°ç”° é¦–ä¸ª é‡äº§ åŠ¨åŠ›è½¦ å¹´ ä¸°ç”° æ·· åŠ¨ç³»ç»Ÿ æŠ€æœ¯ æˆç†Ÿåº¦ æå‡ æˆæœ¬ æ™®é”æ–¯ å‘å¸ƒä¼š ä¸°ç”° æ·· åŠ¨ç³»ç»Ÿ æˆæœ¬ å¡ç½— æ‹‰åŒæ“ å¥— æ²¹ ç”µ æ·· åŠ¨ç³»ç»Ÿ é¡¾åæ€ä¹‰ å‡ æ’é‡ æ±½æ²¹æœº ç”µåŠ¨æœº èµ·æ­¥ ä½é€Ÿ é˜¶æ®µ ç”µåŠ¨æœº ä»‹å…¥ å¼¥è¡¥ ç‡ƒæ²¹ å‘åŠ¨æœº ä½é€Ÿ æ—¶ æ•ˆç‡ ä½ èŠ‚æ²¹ é«˜é€Ÿ é˜¶æ®µ å‘åŠ¨æœº ç”µæ±  å……ç”µ æ»‘è¡Œ åˆ¹è½¦ ä¸­ è½¦è¾† åŠ¨èƒ½ å›æ”¶ ç”µæ±  èƒ½æº ç›¸è¾ƒ å“ç‰Œ æ·· åŠ¨ ä¸°ç”° å¥— æ·· åŠ¨ æ–¹æ¡ˆ ä¼˜åŠ¿ å¤– æ¥ç”µæº å…¨è¿‡ç¨‹ ä¸­ è½¦è¾† åŠ æ²¹ èµ° ç‡ƒæ²¹ è½¦ æ— å¼‚ å¯é æ€§ å……è¶³ éªŒè¯ å¹´ å†ä»£ ä¸­ æ•…éšœ å¯é æ€§ è¯´ å…¨çƒ æ°”å€™ è·¯å†µ ç¯å¢ƒ éªŒè¯ æ”¾ä¸‹ ç”µæ± ç»„ æ•´è½¦ åå¤‡ç®± å‡¸èµ· å½±å“ è½¦ä¸» è·¯ æµ‹ æ‰“åˆ† ç³»ç»Ÿ ç¾ä¸­ä¸è¶³ è¯• é©¾è½¦ ç¼˜æ•… å¡ç½—æ‹‰ åŒæ“ æ¥è§¦ ä¸­ æœ‰å¾… æå‡ ç©ºé—´ æ–¹å‘ç›˜ æ–¹å‘ç›˜ è‡ªç”± ä½™é‡ é‡ æ‰‹æ„Ÿ æ–¹å‘ç›˜ æŒ¡ ä¸°ç”° å®˜æ–¹ å¡ç½—æ‹‰ åŒæ“ å……æ»¡ ç§‘æŠ€ æ„Ÿ æŒ¡ å–ç‚¹ é©¾é©¶ ä¸­ ç¡®å® çµæ• è®¾è®¡ å°ºå¯¸ èƒ³è†Š çŸ­è…¿ è‚ ç‚ è€å¸ˆ å¤Ÿ ä¸å¿« ç»™æ²¹ èµ·æ­¥ åŠ¨åŠ›ç³»ç»Ÿ å¥— æ·· åŠ¨ç³»ç»Ÿ å®åœ¨ å¤ªå®‰é™ ç¼“ é€Ÿ é˜¶æ®µ ç”µ é©±åŠ¨ æ— å£° å¹³é¡º æ€§ æƒŠäºº æ„Ÿå— å‘åŠ¨æœº å¯ åœ å£°éŸ³ éœ‡åŠ¨ æ„Ÿ å“ç‰Œ è‡ªåŠ¨ å¯ åœ åŠŸèƒ½ ä½ å®é©¬ ç³» è‡ªåŠ¨ å¯ åœ éœ‡é¢¤ æ‹–æ‹‰æœº èŠ‚æ²¹ æ•ˆæœ æ—¥ç¨‹ ç¼˜æ•… è¯• é©¾ åŒ—äº¬å¸‚ æ‹¥å µ å¤§è„š æ²¹é—¨ æŠ˜è…¾ ç»å† é©¾é©¶ è‘—ç§° èƒ¡ç¼– æŠ˜è…¾ é‡Œç¨‹ æœ€é•¿ å¹³å‡ æ²¹è€— å‡ é©¾é©¶ æ§åˆ¶ å‡ å‹åŠ› è¯´ æ‰“åˆ† ç³»ç»Ÿ åŠ¨åŠ›ç³»ç»Ÿ è½¦è¾† è¡Œé©¶ æ€§èƒ½ å¼€ å…¥é—¨çº§ å®¶ç”¨è½¦ æœºä¼š æ»´æ»´ ç”¨è½¦ å¼€ç©ç¬‘ è¯´ è·‘ æ»´æ»´ æ¥ç”¨ æ“ä½œ è½»ç›ˆ æ‹¥æŒ¤ åŸå¸‚ ç¯å¢ƒ è½»ä¾¿ è¸æ¿ å¸æœº ç–²åŠ³åº¦ è½¦è¾† æ“ä½œæ€§ å€Ÿè½¦ ä¸­ åŒ—äº¬ å¹´ é‡ æš´é›¨ é¢„è­¦ ææ€– ä¸Šæ¼” å¤§é›¨ ä¸­ é€Ÿåº¦ åŒé“ è½¬å‘ å¥½æˆ æ¹¿ æ»‘ å‹ é™é€Ÿ è‚†æ„ è¶…è½¦ ä¸å®‰ åˆæ®µ æ¿æ²¹ å‘åŠ¨æœº è½¦èº« å†²å‡ºå» è½¦è¾† ç¨ æ˜¾ è¿Ÿç¼“ æœ‰è¶£ æ²¹é—¨ è¸© æ·± å‘åŠ¨æœº è¿¸å‘å‡º æ‚¦è€³ å•¸å« ä»ªè¡¨ç›˜ æŒ‡é’ˆ å˜çº¢ å¼€ è·‘è½¦ å¼€ç©ç¬‘ è¯´ å£°éŸ³ ä¸°ç”° å½•åˆ¶ ç²¾æ˜ æ”¾å¿ƒ ç²¾æ˜ è¯ è´¬ä¹‰ å†…é¥° åŠ¨åŠ› æ„Ÿå— æƒŠè®¶ ä¸°ç”° è½¦ åº¦ æ‹¿æ è¶…è¶Š ä¸œè¥¿ å“è´¨ å¥¢ä¾ˆ åšå®ˆ ä»·æ ¼ æ¡£æ¬¡ è§’åº¦ è®² ä¸°ç”° å®¶ ç²¾æ˜ è½¦å‚ å¡ç½—å¡ åŒæ“ åŸå¸‚ äº«å— æ–°èƒ½æº è½¦ä¸Š ç‰Œ ä¼˜æƒ å¾…é‡ äº«å— ä¼˜å¾… ä»·ä½ è¶³ä»¥ é… æ±½æ²¹è½¦ ç›´é¢ ç«äº‰ è§’åº¦ è®² å¡ç½—æ‹‰ åŒæ“ ç²¾æ˜ è½¦å‹ è®² å¡ç½—æ‹‰ åŒæ“ æ¶ˆè´¹è€… ä¼˜ç§€ åŠ¨åŠ› å¹³é¡º æ€§ ç»æµæ€§ ç‰ºç‰² é…ç½® å¤–åœ¨ å–§åš£ å°‘ åŠ¨åŠ› é©°éª‹ å’†å“® è§’åº¦ è®² ç²¾æ˜ è´­è½¦è€… ä¸°ç”° å¡ç½— æ‹‰ çºµæ¨ª æ±Ÿæ¹– ç§˜å¯†";
        String sentence_c9eae364e80cb267 = "æ–°ä¸€ä»£ ä¸°ç”° å‡¯ç¾ç‘ å·¥å‚ ä¸‹çº¿ æ–°è½¦ ä¸°ç”° å…¨çƒåŒ– æ‰“é€  å…¨æ–° å¤–è§‚ å†…é¥° è®¾è®¡ å…¨çƒ è½¦å‹ æ–°ä¸€ä»£ å‡¯ç¾ç‘ å‰ä»£ åŒºåˆ† åŒ—ç¾ç‰ˆ å›½é™…ç‰ˆ è½¦å‹ æœªæ¥ å›½äº§ æ–°ä¸€ä»£ å‡¯ç¾ç‘ è¯¥è½¦ è®¾è®¡ å›½äº§ ç‰ˆæœ¬ ä»Šå¹´å¹´åº• ä¸Šå¸‚ å¤–è§‚ æ–°ä¸€ä»£ å‡¯ç¾ç‘ é‡‡ç”¨ æ¿€è¿› è®¾è®¡ é£æ ¼ å‰ æ ¼æ … é‡‡ç”¨ é£ ç¿¼çŠ¶ è®¾è®¡ å‰ ä¿é™©æ  æ°›å›´ é€ å‹ å°¾æ ‡ è½¦å‹ çº¢è‰² å€¾å‘ è¿åŠ¨ é£æ ¼ é›·å…‹è¨æ–¯ çººé”¤ çŠ¶ å‰ è„¸ å°¾æ ‡ åŠ¨åŠ› è½¦å‹ é“¶è‰² ä¸»æ‰“ è±ªå é‡‡ç”¨ æ¨ªå¹… å¼ å‰ ä¿é™©æ  é€ å‹ å°¾ç¯ é‡‡ç”¨ å…‰æº å‘ä¸‹ å»¶ä¼¸ æ ¼æ … è®¾è®¡ é›·å…‹è¨æ–¯ è·‘è½¦ ç¥éŸµ æ–°è½¦ å¢æ·» è¿åŠ¨ æ°”æ¯ è¿åŠ¨ ç‰ˆæœ¬ è½¦å°¾ é¸­ ç¿¼å½¢ å°å‹ æ‰°æµæ¿ é‡‡ç”¨ åŒè¾¹ æ’æ°” å¸ƒå±€ å¤¸å¼  æ‰©æ•£å™¨ æ–°è½¦ å†…é¥° å¤§èƒ† é‡‡ç”¨ ä¸è§„åˆ™ æ›²çº¿ è®¾è®¡ ä¸­æ§ é¢æ¿ é›†æˆ ä¸è§„åˆ™ åŒºåŸŸ æ–¹å‘ç›˜ é‡‡ç”¨ ä¼ ç»Ÿ å¼ è®¾è®¡ ç»†èŠ‚ å¤„ è°ƒæ•´ è½¦å†… å…¨æ™¯ å¤©çª— ç”µå­ æ‰‹åˆ¹ é€‰è£… çº¢è‰² è¿åŠ¨ åº§æ¤… åŠ¨åŠ› ç¾ç‰ˆ å‘åŠ¨æœº è‡ªç„¶ å¸æ°” å‘åŠ¨æœº åŒ¹é… é€Ÿ è‡ªåŠ¨ å˜é€Ÿç®± åŠ¨åŠ›ç³»ç»Ÿ åŠ¨åŠ› â— å›½äº§ è½¦å‹ ä¿¡æ¯ åŒæ­¥ ç¾ç‰ˆ å¤–è§‚";
        double cosineScoreNewsIds = Word2VecUtils.computeCosineScore( Word2VecUtils.buildWordsVector(sentence_8ffbe33ee74dfc15.split(" "), vectorSize, w2vModel), Word2VecUtils.buildWordsVector(sentence_c9eae364e80cb267.split(" "), vectorSize, w2vModel));
        System.out.println(cosineScoreNewsIds);
        System.out.println("-------------------------------1.4.(cosineScoreNewsIds)è·ç¦»çš„ä½™å¼¦è·ç¦»æ¯”è¾ƒ-----------------------------------");
        String textrank_tags_8ffbe33ee74dfc15 = "å¡ç½—æ‹‰ åŒæ“ ä¸°ç”° è½¦è¾† å“ç‰Œ å“è´¨ åŒ—äº¬ è½¦å‹ å‘åŠ¨æœº åŠ¨åŠ›";
        String textrank_tags_c9eae364e80cb267 = "è½¦å‹ è¿åŠ¨ è®¾è®¡ å¤–è§‚ åŠ¨åŠ› ç‰ˆæœ¬ é‡‡ç”¨ ä¸°ç”° ç¾ç‘è° æ›¾åˆš";
        double cosineScoreNewsIds_textrank = Word2VecUtils.computeCosineScore( Word2VecUtils.buildWordsVector(textrank_tags_8ffbe33ee74dfc15.split(" "), vectorSize, w2vModel), Word2VecUtils.buildWordsVector(textrank_tags_c9eae364e80cb267.split(" "), vectorSize, w2vModel));
        System.out.println(cosineScoreNewsIds_textrank);
        System.out.println("-------------------------------1.5.(cosineScoreNewsIds)è·ç¦»çš„ä½™å¼¦è·ç¦»æ¯”è¾ƒ-----------------------------------");
        double cosineScoreNewsIds_word1_s4 = Word2VecUtils.computeCosineScore( Word2VecUtils.buildWordsVector(words_1, vectorSize, w2vModel), Word2VecUtils.buildWordsVector(sentence3.split(" "), vectorSize, w2vModel));
        System.out.println(cosineScoreNewsIds_word1_s4);
    }


    /**
     * . é‡‡ç”¨tagè®¡ç®—   cmsgqmpc6oyvr  480000ï¼ˆç”Ÿæ´»ï¼‰  çš„ç›¸å…³æ–°é—» ä¸º3efb5e7bdefdfd7då’Œ2a7a4ff3feaf3f3fï¼Œæ˜æ˜¾ä¸æ­£ç¡®
     {"vFeedTag":{"0.0.1":[{"çŸ­ä¿¡":0.9729118},{"ä¿¡æ¯":0.98907214},{"ä¸»å°†":0.9526567},{"å£å·":1.0279036},{"æ–¹å¼":1.0126568},{"å¹¼å„¿å›­":1.0667655},{"ç»å…¸":1.0201882},{"æ—§æƒ…":1.0580716},{"é©¬ä¸Šæ‹‰":1.4473567},{"æ—¶æœŸ":1.0711678}]}}
     ã€å””å“©æ¥æ’©ã€‘æ”¶åˆ°å‰ä»»çŸ­ä¿¡â€œæˆ‘è¿˜å–œæ¬¢ä½ â€æ—¶åº”è¯¥æ€ä¹ˆå›ï¼Ÿ


     çŸ­ä¿¡ ä¿¡æ¯ ä¸»å°† å£å· æ–¹å¼ å¹¼å„¿å›­ ç»å…¸ æ—§æƒ… é©¬ä¸Šæ‹‰ æ—¶æœŸ

     1.1 3efb5e7bdefdfd7d   480300ï¼ˆå®¶å±…ï¼‰
     è¿™äº›ç»å…¸çš„å®¶å…·é—®é¢˜ï¼ä½ ä¸åº”è¯¥é”™è¿‡ï¼
     {"vFeedTag" : {"0.0.1" :[{"å®¶å…·":0.99448675},{"ç»å…¸":0.99448675}]}}

     å®¶å…· ç»å…¸

     1.2 2a7a4ff3feaf3f3f   480300ï¼ˆå®¶å±…ï¼‰
     {"vFeedTag" : {"0.0.1" :[{"åŒ—æ¬§":1.6906272},{"ç»å…¸":0.9944866}]}}
     åŒ—æ¬§ ç»å…¸



     åˆ†æé—®é¢˜å­˜åœ¨çš„åŸå› ï¼š tagsçš„å…³é”®è¯æ¯”è¾ƒå°‘å¯¼è‡´åˆ†é…é”™è¯¯ã€‚

     1.3 è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡ansjè¿›è¡Œåˆ†è¯ï¼ˆstopwordsè¿‡æ»¤å’Œä¸ªåˆ«è¯çš„ç®€å•è¿‡æ»¤ï¼‰---> ç„¶åé€šè¿‡Word2vec çš„è¯å‘é‡è®¡ç®—ã€‚æ³¨æ„ï¼š ç¬¬ä¸€ä¸ªå…³é”®è¯æ˜¯  ç±»åˆ«ä¿¡æ¯

     ç”Ÿæ´» å”” æ’© å‰ä»» çŸ­ä¿¡ æ—¶ å› èƒ½æ¯” åˆ†æ‰‹ äººå¿ƒ å¡ åˆ†æ‰‹ å‰ä»» çº ç¼  è¯´ çº ç¼  å¤ªè¿‡åˆ† æ˜æ˜ åˆ†æ‰‹ å‘æ¥ çŸ­ä¿¡ æœºæ™º å”” å‰ä»» å‘æ¥ è¯´ åœˆ ä¸»å°† è¯é¢˜ é€‰ è· èµ å”” é€ çº¢åŒ… å…ˆ æ‹’ç» æ´¾ å‘ ä¿¡æ¯ ä¿¡ä¸ä¿¡ æ€¼ æ­» æ‰“ç€ å£å· ç»å…¸ æ‹’ æ€¼ æ”¶è— å¥½å“Ÿ åˆ†æ‰‹ é—¹ å¼€å¿ƒ æ€äºº å¿ƒ æ—§æƒ… å¤ç‡ƒ ç¾å¥½ å¹¼å„¿å›­ æ„Ÿå¤©åŠ¨åœ° æ–° å¦ä¸€åŠ å“ˆå“ˆå“ˆ æŠ±æ­‰ å¤ª ç† åˆ†æ‰‹æ—¶ å½“æœºç«‹æ–­ é©¬ä¸Šæ‹‰ é»‘ æ ¹æœ¬å°±æ˜¯ å‡„å‡‰ ç»éªŒ è¯„è®º åŒº
     å®¶å±… ç»å…¸ å®¶å…· ç»å…¸ å®¶å…·
     å®¶å±… å¤å¤ ç»å…¸ åŒ—æ¬§ å¤å¤é£ å¤å¤ ç»å…¸ åŒ—æ¬§ å¤å¤é£
     */

    @Test
    public void testComputeTextConsineScoreByWordVec_02(){

        System.out.println("-----------testComputeTextConsineScoreByWordVec_02- tags key words word2vec---------------------");
        int vectorSize = 200;
        String words="ç”Ÿæ´»  çŸ­ä¿¡ ä¿¡æ¯ ä¸»å°† å£å· æ–¹å¼ å¹¼å„¿å›­ ç»å…¸ æ—§æƒ… é©¬ä¸Šæ‹‰ æ—¶æœŸ";

        String word1="å®¶å±… å®¶å…· ç»å…¸";
        String word2="å®¶å±… åŒ—æ¬§ ç»å…¸";

        double cosineScore1_words_word1 = Word2VecUtils.computeCosineScore(Word2VecUtils.buildWordsVector(words.split(" "), vectorSize, w2vModel), Word2VecUtils.buildWordsVector(word1.split(" "), vectorSize, w2vModel));
        System.out.println("cosineScore1_words_word1:" + cosineScore1_words_word1);//cosineScore1_words_word1:0.09438144233098633
        double cosineScore1_words_word2 = Word2VecUtils.computeCosineScore(Word2VecUtils.buildWordsVector(words.split(" "), vectorSize, w2vModel), Word2VecUtils.buildWordsVector(word2.split(" "), vectorSize, w2vModel));
        System.out.println("cosineScore1_words_word2:" + cosineScore1_words_word2);//cosineScore1_words_word2:0.10594416263179456
    }

    @Test
    public void testComputeTextConsineScoreByWordVec_03(){
        System.out.println("-----------testComputeTextConsineScoreByWordVec_02- ansj key words word2vec---------------------");

        int vectorSize = 200;
        String words="ç”Ÿæ´» å”” æ’© å‰ä»» çŸ­ä¿¡ æ—¶ å› èƒ½æ¯” åˆ†æ‰‹ äººå¿ƒ å¡ åˆ†æ‰‹ å‰ä»» çº ç¼  è¯´ çº ç¼  å¤ªè¿‡åˆ† æ˜æ˜ åˆ†æ‰‹ å‘æ¥ çŸ­ä¿¡ æœºæ™º å”” å‰ä»» å‘æ¥ è¯´ åœˆ ä¸»å°† è¯é¢˜ é€‰ è· èµ å”” é€ çº¢åŒ… å…ˆ æ‹’ç» æ´¾ å‘ ä¿¡æ¯ ä¿¡ä¸ä¿¡ æ€¼ æ­» æ‰“ç€ å£å· ç»å…¸ æ‹’ æ€¼ æ”¶è— å¥½å“Ÿ åˆ†æ‰‹ é—¹ å¼€å¿ƒ æ€äºº å¿ƒ æ—§æƒ… å¤ç‡ƒ ç¾å¥½ å¹¼å„¿å›­ æ„Ÿå¤©åŠ¨åœ° æ–° å¦ä¸€åŠ å“ˆå“ˆå“ˆ æŠ±æ­‰ å¤ª ç† åˆ†æ‰‹æ—¶ å½“æœºç«‹æ–­ é©¬ä¸Šæ‹‰ é»‘ æ ¹æœ¬å°±æ˜¯ å‡„å‡‰ ç»éªŒ è¯„è®º åŒº ";

        String word1="å®¶å±… ç»å…¸ å®¶å…· ç»å…¸ å®¶å…· ";
        String word2="å®¶å±… å¤å¤ ç»å…¸ åŒ—æ¬§ å¤å¤é£ å¤å¤ ç»å…¸ åŒ—æ¬§ å¤å¤é£ ";

        double cosineScore1_words_word1 = Word2VecUtils.computeCosineScore(Word2VecUtils.buildWordsVector(words.split(" "), vectorSize, w2vModel), Word2VecUtils.buildWordsVector(word1.split(" "), vectorSize, w2vModel));
        System.out.println("cosineScore1_words_word1:" + cosineScore1_words_word1);//cosineScore1_words_word1:0.03991371393261079
        double cosineScore1_words_word2 = Word2VecUtils.computeCosineScore(Word2VecUtils.buildWordsVector(words.split(" "), vectorSize, w2vModel), Word2VecUtils.buildWordsVector(word2.split(" "), vectorSize, w2vModel));
        System.out.println("cosineScore1_words_word2:" + cosineScore1_words_word2);//cosineScore1_words_word2:0.1022375129223416
    }
    @Test
    public void testWordLength(){
        String word = "åŒ—äº¬";
        System.out.println(word.length());
    }
}
/**
 *
 Input Result:


 Load News word2Vec Model successfully,the time is 102s
 -------------------------------1.1.ã€æŠ•èµ„ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------
 èµ„æœ¬	782408.327137235
 æŠ•èµ„è€…	763129.5662595857
 æŠ•èµ„äºº	743162.1265930445
 èµ„äº§	721816.647049782
 åŸºé‡‘	721212.5180297984
 èµ„é‡‘	720170.0363401364
 ç§å‹Ÿ	697714.710380789
 ä¼ä¸š	695402.1979681276
 èèµ„	694402.1856521369
 å¹¶è´­	674471.4168534336
 -------------------------------1.2.ã€é»„é£é¸¿ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------
 æ–¹ä¸–ç‰	3369854.656889707
 è­¦å¯Ÿæ•…äº‹	3327364.619644495
 åŠŸå¤«ç‰‡	3253980.0145932636
 é†‰æ‹³	3215501.087689645
 æ­¦æœ¯æŒ‡å¯¼	3190052.638941494
 æ­¦æ‰“	3157699.54503617
 æ­¦ä¾ ç‰‡	3132025.28115942
 å´å®‡æ£®	3116860.397585014
 å¾å…‹	3104681.7448405162
 æè¿æ°	3103499.356360355
 -------------------------------1.3.ã€ä¹ è¿‘å¹³ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------
 æ€»ä¹¦è®°	1309540.2466774343
 é‡è¦è®²è¯	1130940.2874737347
 è´¯å½»	1125907.7383304203
 å…šä¸­å¤®	1065820.3158950794
 åå…«å±Š	977863.25266753
 åŒå¿—	970612.3737561465
 æŒ‡ç¤ºç²¾ç¥	942475.6429439788
 è®¤çœŸå­¦ä¹ 	933368.575684405
 èƒ¡é”¦æ¶›	930892.5400540156
 åå…«å¤§	924159.746496946
 -------------------------------1.4.ã€é©¬äº‘ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------
 é˜¿é‡Œå·´å·´	696870.3815692059
 é©¬åŒ–è…¾	639223.965736335
 èš‚èš	550694.8060594413
 é˜¿é‡Œ	548613.7021694303
 äº’è”ç½‘é‡‘è	537924.9543409514
 ç‹å¥æ—	536539.2778342582
 äº’è”ç½‘ç”µå•†	532789.7808522749
 åˆ˜å¼ºä¸œ	530575.153957411
 å¤§ä½¬	521040.3137675699
 ä¼ä¸šå®¶	515941.3004977615


 -------------------------------1.5.ã€ç”Ÿæ´»ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------
 æ™’æ™’	730169.7533099676
 ğŸ”´	664501.6362013684
 ç”Ÿæ´»çŸ¥è¯†	652392.7731806132
 å‘Šè¯‰æ‚¨	647206.1718441544
 æ”¶å¥½	641688.5409035311
 æ—©ä¸Šå¥½	638074.9773014195
 æç¬‘å›¾ç‰‡	627519.8202931918
 åˆ«å¿˜äº†	624571.5647161978
 å¥‰é€	624512.1776874246
 å„ä½æœ‹å‹	621907.2177790685
 -------------------------------1.6.ã€å®¶å±…ã€‘  å…³é”®è¯çš„åŒä¹‰è¯-----------------------------------
 è£…ä¿®	527587.2166769102
 å®¶å…·	519542.3736560367
 å®¶è£…	502933.2450705217
 å®¢å…	491030.70961996535
 å§å®¤	465606.10803723364
 ä¸­å¼	436845.8563877454
 å«ç”Ÿé—´	433645.459904296
 å¨æˆ¿	431360.8504815447
 é˜³å°	415597.9044952247
 åŒ—æ¬§	415067.5671273492


 -------------------------------å¥å­çš„å‘é‡è¡¨ç¤º-----------------------------------
 -61919.02356335001,125860.42579244911,13012.467213481938,7951.383247025516,-112252.17801435279,-32894.55441256182,47145.87354131576,132952.8378480684,22414.623600111096,-76402.24279505179,-88452.82702300746,-125821.27942006523,-4995.003785299598,-73388.43881253584,-23136.610405318235,-28393.665882355577,10278.882206628083,-116717.88151060331,-124639.99878601634,55987.85507258144,-61687.313359531785,-2082.0539836358585,26309.89189945886,-129554.64911336637,-25333.669686693665,-81752.96998638188,51678.35680592388,145313.58064815975,53102.710674320886,-87120.21357153097,36774.7632989446,173618.34061606872,31415.1074949492,-105131.29008161912,-48034.19186093392,-85540.55823481848,-44590.8819468087,-170859.94151376147,163075.02197489608,-90387.96201037486,74589.35503058477,-54132.82409164009,76806.42611554347,112722.95494037593,-52091.25050843965,-8081.71784287199,-39922.15414288722,-1120.2669596540818,-61093.65894842585,28775.9453780148,149773.98085623924,-48706.98075208751,101270.11822341778,41776.28233155417,-80937.55592164205,-82690.34295584302,-9425.000371040554,31694.74351459468,-133281.99952067804,-21993.48620829451,267756.02892254473,135082.42516081923,226262.1447731508,82092.01289801642,-112956.57039061381,43552.367083838224,-52837.47330593844,88999.20045177215,75393.23437580494,-30330.22407853713,-31123.89725907352,11170.451925575186,88104.2291254166,-68945.76884250467,82104.40126303576,27861.62943876774,77801.53546758529,5950.019113523151,-80774.80498203663,-165041.96771408222,-8574.29927608945,78419.24754403491,77276.97043518626,-86031.13850444829,-24398.394014131038,-33080.71948018205,68172.59251025839,86630.85262179593,25828.879457246272,-31613.81745994638,-18807.13552380483,-157956.67930673022,-73372.76743757616,99073.47827148438,73535.89810936604,-71184.60356966071,94320.33005628674,48983.49780385428,-119618.5483958393,43181.98776385106,105728.62742908722,-189111.83804069308,55929.21813180906,-87858.02563924527,-49803.31939249301,-62245.72912037701,50821.69988229734,35295.82998069273,-129468.62374233981,-27842.362896560528,-31379.55886252867,-82883.6991229976,-20868.984354281645,129564.04027872348,-24321.26572355218,92651.8457927179,-103980.36242115825,74522.97668205052,66808.32874770559,17285.56380581637,150685.95341897666,-138295.22206717674,102863.59019484214,-28015.451746389408,-39579.975315198986,-33236.1621698502,105022.70909860593,-64470.052512632596,4123.261119597549,117041.4182736458,-142723.2294529906,20860.276105688252,46710.70819371775,27822.293676183857,-32582.126666427754,-51190.868188805536,-90702.93920002508,-187100.41066748943,32572.624344851993,-98750.27493846089,119529.33497045675,139064.45084822067,-151923.24086026533,166157.15017112243,13542.807242017274,84648.68633641234,-28895.35283695886,179126.52938198825,46612.99596034059,-220723.9381590677,-114335.66830024369,-45339.257371255015,78487.78364325008,13183.506471966384,104555.70232090382,133125.73615397883,33743.4331956216,153208.3657584934,-92212.11475617294,-208328.52544886037,26711.536992904243,3877.832256072158,-62834.52205552968,-142207.35267569165,51120.658477503224,48237.29062309615,12528.498501278938,-24980.437834853426,-45240.014221751364,-81189.31490948878,-297889.15844950546,131736.2573510966,43540.338399904584,-10160.348247563074,1907.8091313073394,-124256.29239115583,-13451.009121676103,132610.33725031582,113393.12764970971,83706.73394579407,-33876.7070110916,40641.174366802254,12033.510100758403,-73292.02108624659,10846.062820994526,36028.9497115109,120508.95896197678,75914.83914366557,-10842.429201458572,-177965.13300512472,-24416.681349448107,-133459.471106293,-272919.52754085435,-97531.82594341313,-190571.15170596063,16734.42194443449,-15374.236849583616,96357.71205293149,-65013.62341116109,-9222.947550082425
 -24578.573292216315,51825.809852475024,-35315.877857646,-14648.444961297708,-45838.7657980997,13500.79191014024,-13435.142760229892,38385.82028648502,26781.662856555376,-60915.82898149334,-13331.870767562115,-92413.77364161758,2979.0473952996927,23693.86892450051,-14900.067269247087,6167.850869475818,-25875.019723360656,-113271.4991204934,-71439.13009993757,-27971.93633482886,-68121.23792004194,27648.02247694672,64412.717583328,-35720.23759885694,20243.242183497696,16397.204761942878,44267.35163935677,66144.66702020363,50960.78843814037,-30446.063908811477,56981.40569768187,35206.74368636335,24704.234365932276,-65861.85024924357,54895.80140961194,-99993.81808321593,37801.69883652984,-15835.71106557377,-21705.90610591701,-16232.473236584272,57532.248854840385,-14697.99884333376,67974.20863617443,6067.999943967726,-3953.8049116290986,9469.385552077996,4719.188076331967,-10397.049994797004,-56147.636834816854,-108485.08594400375,83585.14797323258,16530.598334640752,48683.39660944704,47539.331232790086,-36979.040517337984,19659.430948226178,33257.367757828506,-36045.95610371574,-85020.71667680584,52167.058155497565,94225.40751322762,21428.987096567624,57865.025798860144,47896.16744644915,-78453.87285476434,35408.943561991706,84213.30043555087,-52296.62525014408,-22809.396400326586,-23049.238226218302,-79769.1239553983,1911.1892445048347,55618.54218029585,-29418.33713018699,24519.952332543544,-79805.72366376783,-70459.82011638704,6182.4088595030735,29050.342201107836,-45566.6251520876,-17423.823664931002,40812.844536453,-823.9240322425717,57135.6332987801,38795.697217597335,-39480.704268658745,-56791.18303742956,25899.22081268811,-53085.11891049244,10059.068019179047,69642.06604003906,-80252.01413214012,-23613.841331106716,20168.633358814677,8678.988801549693,12203.212338306865,70161.39782714844,47233.44206062692,-93085.15365250384,-77359.5689597208,25594.49448082095,32717.932445088372,27360.98686843622,-21707.876801037397,-22338.97638239626,-44785.65034359791,29164.44057977395,17831.167953241067,-13809.064463130764,2559.5669745773566,7744.486220062756,-47683.569559066025,11447.380451139856,86803.9020628382,6295.14942206711,-38513.18785020171,-54182.14596244937,37184.04736328125,31954.45966876921,75633.75054431353,52423.880285044186,16180.283161601083,22607.258138062523,16949.098948994622,-20055.66361474209,-33583.38990758677,-17387.684888495773,45578.89237800973,-43549.92248335041,56794.61589075308,-39219.10093413806,64126.91206584993,53971.13255435131,84966.01878682121,-37141.26883134685,-50542.51167672579,-23547.19583279969,-924.987681404489,-17653.691552334145,51302.76689172964,13361.826468045594,132312.01520876025,-75551.0164494749,39560.61401767418,96535.96046322682,91561.38663470159,-78778.94450603548,41667.00928134606,-16493.641674291892,-156451.2972852363,-79090.18021380315,29597.909207703637,9575.985851850666,-84787.4230756916,-6008.348165543353,20844.36669921875,28687.733797792527,35887.77402984119,-9201.040013047515,-127267.22901791432,5908.770782470703,4503.820200435451,-33717.33145291688,-33747.465153928664,87246.93824442879,6445.070756755891,-18919.318953717342,-50573.45497806737,-18733.225882108094,-31655.604766345416,-34938.0197553791,43311.975633965165,-21444.029777151638,24948.3233182313,8239.406778304303,-38422.0680592021,-33416.12294681737,32455.34599529329,-1788.0565485719774,15146.5372699675,34458.927635317945,-40643.87408547323,68817.92557713242,-37297.357758568935,33400.51361384157,-38230.68013575819,56342.863593429815,39041.35800621158,116002.54111768378,-170502.36852427,51234.79855997054,-66699.04014412302,-69762.98997222401,-21764.637265064677,-45279.94426589716,50331.12860807825,35866.567462858606,47129.12808977971,-933.8249311603483,-49628.71080092133
 -------------------------------1.1.(cosineScore1_2)è·ç¦»çš„ä½™å¼¦è·ç¦»æ¯”è¾ƒ-----------------------------------
 0.5501444042332296
 -------------------------------1.2.(cosineScore3_4)è·ç¦»çš„ä½™å¼¦è·ç¦»æ¯”è¾ƒ-----------------------------------
 0.8125541790650117
 -------------------------------1.3.(cosineScoreNewsIds)è·ç¦»çš„ä½™å¼¦è·ç¦»æ¯”è¾ƒ-----------------------------------
 0.8422920801976059
 -------------------------------1.4.(cosineScoreNewsIds)è·ç¦»çš„ä½™å¼¦è·ç¦»æ¯”è¾ƒ-----------------------------------
 0.714023747919713
 -------------------------------1.5.(cosineScoreNewsIds)è·ç¦»çš„ä½™å¼¦è·ç¦»æ¯”è¾ƒ-----------------------------------
 -0.05536450268485793


 cosineScore1_words_word1:0.03991371393261079
 cosineScore1_words_word2:0.1022375129223416



 */
